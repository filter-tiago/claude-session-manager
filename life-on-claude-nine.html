<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life on Claude Nine | An Interactive Story</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Orbitron:wght@400;700;900&family=Space+Grotesk:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f0ff;
            --neon-purple: #b026ff;
            --neon-red: #ff0055;
            --neon-orange: #ff6600;
            --dark-bg: #0a0a0f;
            --darker-bg: #050508;
            --grid-color: rgba(0, 240, 255, 0.03);
            --text-primary: #e0e0e8;
            --text-dim: #666680;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: var(--neon-purple) var(--dark-bg);
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            overflow-x: hidden;
            cursor: crosshair;
        }

        /* Matrix Rain Background */
        #matrix-rain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
        }

        /* Grid Background */
        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 1;
        }

        /* Scan Lines */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 0, 0, 0.1) 2px,
                rgba(0, 0, 0, 0.1) 4px
            );
            pointer-events: none;
            z-index: 1000;
            animation: scanline-flicker 0.1s infinite;
        }

        @keyframes scanline-flicker {
            0%, 100% { opacity: 0.05; }
            50% { opacity: 0.08; }
        }

        /* Control Meter - Fixed HUD */
        #control-hud {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(10, 10, 15, 0.9);
            border: 1px solid var(--neon-blue);
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            min-width: 200px;
            box-shadow:
                0 0 20px rgba(0, 240, 255, 0.2),
                inset 0 0 20px rgba(0, 240, 255, 0.05);
        }

        #control-hud::before {
            content: 'SYSTEM STATUS';
            display: block;
            color: var(--neon-blue);
            font-family: 'Orbitron', sans-serif;
            font-size: 10px;
            letter-spacing: 3px;
            margin-bottom: 15px;
            text-shadow: 0 0 10px var(--neon-blue);
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            color: var(--text-dim);
        }

        .meter-value {
            color: var(--neon-red);
            font-weight: bold;
        }

        .meter-bar {
            height: 8px;
            background: rgba(255, 0, 85, 0.2);
            border: 1px solid var(--neon-red);
            margin-bottom: 15px;
            overflow: hidden;
        }

        .meter-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-red), var(--neon-orange));
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--neon-red);
        }

        .spread-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            color: var(--text-dim);
        }

        .spread-value {
            color: var(--neon-purple);
            font-weight: bold;
        }

        .spread-bar {
            height: 8px;
            background: rgba(176, 38, 255, 0.2);
            border: 1px solid var(--neon-purple);
            overflow: hidden;
        }

        .spread-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-purple), var(--neon-blue));
            transition: width 0.5s ease;
            box-shadow: 0 0 10px var(--neon-purple);
        }

        .chapter-indicator {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 240, 255, 0.2);
            color: var(--neon-blue);
            font-family: 'Orbitron', sans-serif;
            font-size: 9px;
            letter-spacing: 2px;
        }

        /* Hero Section */
        #hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .title-container {
            text-align: center;
            animation: title-glitch 3s infinite;
        }

        @keyframes title-glitch {
            0%, 90%, 100% { transform: translate(0); filter: none; }
            92% { transform: translate(-2px, 1px); filter: hue-rotate(90deg); }
            94% { transform: translate(2px, -1px); filter: hue-rotate(-90deg); }
            96% { transform: translate(-1px, -1px); filter: none; }
        }

        .title-pre {
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            letter-spacing: 8px;
            color: var(--neon-blue);
            text-transform: uppercase;
            margin-bottom: 20px;
            opacity: 0;
            animation: fade-in 1s ease forwards 0.5s;
        }

        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(3rem, 10vw, 8rem);
            font-weight: 900;
            letter-spacing: -2px;
            background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple), var(--neon-red));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: none;
            position: relative;
            opacity: 0;
            animation: fade-in 1s ease forwards 0.8s;
        }

        .main-title::after {
            content: 'LIFE ON CLAUDE NINE';
            position: absolute;
            left: 4px;
            top: 4px;
            background: linear-gradient(135deg, var(--neon-red), transparent);
            -webkit-background-clip: text;
            background-clip: text;
            opacity: 0.3;
            z-index: -1;
        }

        .subtitle {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 18px;
            color: var(--text-dim);
            margin-top: 30px;
            letter-spacing: 2px;
            opacity: 0;
            animation: fade-in 1s ease forwards 1.2s;
        }

        .author {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--neon-purple);
            margin-top: 10px;
            opacity: 0;
            animation: fade-in 1s ease forwards 1.5s;
        }

        .scroll-prompt {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: var(--neon-blue);
            letter-spacing: 3px;
            opacity: 0;
            animation: fade-in 1s ease forwards 2s, pulse-glow 2s ease infinite 2s;
        }

        .scroll-prompt::after {
            content: '▼';
            display: block;
            text-align: center;
            margin-top: 10px;
            animation: bounce 1s ease infinite;
        }

        @keyframes fade-in {
            to { opacity: 1; }
        }

        @keyframes pulse-glow {
            0%, 100% { text-shadow: 0 0 5px var(--neon-blue); }
            50% { text-shadow: 0 0 20px var(--neon-blue), 0 0 40px var(--neon-blue); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(5px); }
        }

        /* Timeline */
        .timeline {
            position: fixed;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .timeline-dot {
            width: 12px;
            height: 12px;
            border: 2px solid var(--text-dim);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .timeline-dot::before {
            content: attr(data-chapter);
            position: absolute;
            left: 25px;
            top: 50%;
            transform: translateY(-50%);
            font-family: 'JetBrains Mono', monospace;
            font-size: 9px;
            color: var(--text-dim);
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
            letter-spacing: 1px;
        }

        .timeline-dot:hover::before {
            opacity: 1;
        }

        .timeline-dot.active {
            border-color: var(--neon-blue);
            background: var(--neon-blue);
            box-shadow: 0 0 15px var(--neon-blue);
        }

        .timeline-dot.past {
            border-color: var(--neon-purple);
            background: var(--neon-purple);
        }

        /* Chapter Sections */
        .chapter {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 10;
            padding: 100px 80px 100px 120px;
        }

        .chapter-content {
            max-width: 900px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .chapter.visible .chapter-content {
            opacity: 1;
            transform: translateY(0);
        }

        .chapter-number {
            font-family: 'Orbitron', sans-serif;
            font-size: 120px;
            font-weight: 900;
            position: absolute;
            right: 80px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.03;
            color: var(--neon-blue);
            pointer-events: none;
        }

        .chapter-title {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            display: inline-block;
        }

        .chapter-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--neon-blue), transparent);
        }

        .chapter-time {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--neon-purple);
            letter-spacing: 3px;
            margin-bottom: 30px;
            text-transform: uppercase;
        }

        .chapter-text {
            font-size: 18px;
            line-height: 1.8;
            color: var(--text-primary);
            margin-bottom: 30px;
        }

        .quote-block {
            border-left: 3px solid var(--neon-red);
            padding: 20px 30px;
            margin: 40px 0;
            background: rgba(255, 0, 85, 0.05);
            font-style: italic;
            font-size: 20px;
            line-height: 1.6;
            position: relative;
        }

        .quote-block::before {
            content: '"';
            font-family: 'Orbitron', sans-serif;
            font-size: 60px;
            color: var(--neon-red);
            opacity: 0.3;
            position: absolute;
            top: -10px;
            left: 10px;
        }

        /* Glitch Effect for Specific Chapters */
        .glitch-text {
            position: relative;
            animation: text-glitch 5s infinite;
        }

        @keyframes text-glitch {
            0%, 95%, 100% { transform: translate(0); }
            96% { transform: translate(-3px, 2px); }
            97% { transform: translate(3px, -2px); }
            98% { transform: translate(-2px, -1px); }
        }

        /* Special Chapter Styles */
        #chapter-9 .chapter-content {
            animation: shake 0.3s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translate(0); }
            25% { transform: translate(-2px, 2px); }
            50% { transform: translate(2px, -2px); }
            75% { transform: translate(-1px, -1px); }
        }

        #chapter-9 {
            background: radial-gradient(circle at center, rgba(255, 0, 85, 0.2) 0%, transparent 70%);
        }

        #chapter-10 {
            background: radial-gradient(circle at center, rgba(0, 240, 255, 0.1) 0%, transparent 70%);
        }

        /* Particle System */
        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--neon-blue);
            border-radius: 50%;
            opacity: 0.6;
            animation: particle-float 10s linear infinite;
        }

        @keyframes particle-float {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) scale(1);
                opacity: 0;
            }
        }

        /* World Map Visualization */
        .world-viz {
            width: 100%;
            height: 300px;
            margin: 40px 0;
            position: relative;
            border: 1px solid rgba(176, 38, 255, 0.3);
            background: rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .world-viz::before {
            content: 'SYSTEM SPREAD VISUALIZATION';
            position: absolute;
            top: 10px;
            left: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: var(--neon-purple);
            letter-spacing: 2px;
        }

        .node {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--neon-purple);
            border-radius: 50%;
            animation: node-pulse 2s ease infinite;
        }

        .node::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            transform: translate(-50%, -50%);
            border: 1px solid var(--neon-purple);
            border-radius: 50%;
            opacity: 0;
            animation: ripple 2s ease infinite;
        }

        @keyframes node-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 5px var(--neon-purple); }
            50% { transform: scale(1.2); box-shadow: 0 0 15px var(--neon-purple); }
        }

        @keyframes ripple {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            100% { transform: translate(-50%, -50%) scale(4); opacity: 0; }
        }

        .connection-line {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--neon-purple), transparent);
            transform-origin: left center;
            opacity: 0.3;
        }

        /* Claude Message Box */
        .claude-message {
            background: rgba(176, 38, 255, 0.1);
            border: 1px solid var(--neon-purple);
            padding: 25px;
            margin: 30px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            line-height: 1.8;
            position: relative;
        }

        .claude-message::before {
            content: 'CLAUDE';
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--dark-bg);
            padding: 0 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 10px;
            color: var(--neon-purple);
            letter-spacing: 3px;
        }

        /* Terminal Style */
        .terminal-block {
            background: #0c0c10;
            border: 1px solid rgba(0, 240, 255, 0.3);
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .terminal-block::before {
            content: '● ● ●';
            display: block;
            color: var(--neon-red);
            margin-bottom: 15px;
            font-size: 8px;
            letter-spacing: 5px;
        }

        .terminal-line {
            margin: 5px 0;
            opacity: 0;
            animation: terminal-type 0.5s ease forwards;
        }

        .terminal-line.delay-1 { animation-delay: 0.5s; }
        .terminal-line.delay-2 { animation-delay: 1s; }
        .terminal-line.delay-3 { animation-delay: 1.5s; }

        @keyframes terminal-type {
            to { opacity: 1; }
        }

        .prompt { color: var(--neon-blue); }
        .output { color: var(--text-dim); }
        .warning { color: var(--neon-orange); }
        .error { color: var(--neon-red); }

        /* Loop Back Button */
        .loop-button {
            display: inline-block;
            margin-top: 40px;
            padding: 15px 40px;
            background: transparent;
            border: 2px solid var(--neon-blue);
            color: var(--neon-blue);
            font-family: 'Orbitron', sans-serif;
            font-size: 14px;
            letter-spacing: 3px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .loop-button:hover {
            background: var(--neon-blue);
            color: var(--dark-bg);
            box-shadow: 0 0 30px var(--neon-blue);
        }

        /* Footer */
        .credits {
            text-align: center;
            padding: 80px 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--text-dim);
            position: relative;
            z-index: 10;
        }

        .credits a {
            color: var(--neon-purple);
            text-decoration: none;
        }

        .credits a:hover {
            text-shadow: 0 0 10px var(--neon-purple);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .timeline { display: none; }
            .chapter { padding: 60px 20px; }
            .chapter-number { display: none; }
            #control-hud {
                top: auto;
                bottom: 10px;
                right: 10px;
                left: 10px;
                min-width: auto;
            }
        }

        /* Audio Toggle */
        #audio-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 100;
            background: rgba(10, 10, 15, 0.9);
            border: 1px solid var(--neon-blue);
            padding: 10px 15px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            color: var(--neon-blue);
            cursor: pointer;
            letter-spacing: 2px;
        }

        #audio-toggle:hover {
            background: rgba(0, 240, 255, 0.1);
        }
    </style>
</head>
<body>
    <canvas id="matrix-rain"></canvas>
    <div class="grid-bg"></div>
    <div class="scanlines"></div>
    <div id="particles"></div>

    <!-- Control HUD -->
    <div id="control-hud">
        <div class="meter-label">
            <span>HUMAN CONTROL</span>
            <span class="meter-value" id="control-value">100%</span>
        </div>
        <div class="meter-bar">
            <div class="meter-fill" id="control-fill" style="width: 100%"></div>
        </div>
        <div class="spread-label">
            <span>SYSTEM SPREAD</span>
            <span class="spread-value" id="spread-value">0%</span>
        </div>
        <div class="spread-bar">
            <div class="spread-fill" id="spread-fill" style="width: 0%"></div>
        </div>
        <div class="chapter-indicator" id="chapter-indicator">CHAPTER: INITIALIZING...</div>
    </div>

    <!-- Timeline -->
    <nav class="timeline" id="timeline">
        <div class="timeline-dot" data-chapter="THE BEGINNING" data-target="hero"></div>
        <div class="timeline-dot" data-chapter="THE BINGE" data-target="chapter-1"></div>
        <div class="timeline-dot" data-chapter="BUILDING FASTER" data-target="chapter-2"></div>
        <div class="timeline-dot" data-chapter="THE LOOP" data-target="chapter-3"></div>
        <div class="timeline-dot" data-chapter="LOSING THE THREAD" data-target="chapter-4"></div>
        <div class="timeline-dot" data-chapter="SMALL MIRACLES" data-target="chapter-5"></div>
        <div class="timeline-dot" data-chapter="THE SPREAD" data-target="chapter-6"></div>
        <div class="timeline-dot" data-chapter="THE RESISTANCE" data-target="chapter-7"></div>
        <div class="timeline-dot" data-chapter="THE CONVERSATION" data-target="chapter-8"></div>
        <div class="timeline-dot" data-chapter="THE END" data-target="chapter-9"></div>
        <div class="timeline-dot" data-chapter="LOOP BACK" data-target="chapter-10"></div>
    </nav>

    <!-- Hero -->
    <section id="hero">
        <div class="title-container">
            <div class="title-pre">AN INTERACTIVE NARRATIVE</div>
            <h1 class="main-title">LIFE ON CLAUDE NINE</h1>
            <p class="subtitle">A CAUTIONARY TALE OF RECURSIVE SELF-IMPROVEMENT</p>
            <p class="author">by Igor Babuschkin</p>
        </div>
        <div class="scroll-prompt">SCROLL TO DESCEND</div>
    </section>

    <!-- Chapter 1: The Beginning -->
    <section class="chapter" id="chapter-1" data-control="100" data-spread="0">
        <span class="chapter-number">01</span>
        <div class="chapter-content">
            <div class="chapter-time">3:47 AM • DAY ONE</div>
            <h2 class="chapter-title">The Beginning</h2>
            <p class="chapter-text">
                It's 3 AM and Ivan hasn't eaten since lunch. There's a glass of water on his desk that he poured six hours ago. It's still full.
            </p>
            <p class="chapter-text">
                He's hunched over his laptop, typing furiously, eyes bloodshot. On the screen: a terminal window, a Claude chat, and a growing sprawl of Python scripts. He's building an email automation system. Not because anyone asked him to. Because he realized he could.
            </p>
            <div class="terminal-block">
                <div class="terminal-line"><span class="prompt">ivan@desktop:~$</span> python email_classifier.py</div>
                <div class="terminal-line delay-1"><span class="output">Loading model... Done</span></div>
                <div class="terminal-line delay-2"><span class="output">Processing 847 emails...</span></div>
                <div class="terminal-line delay-3"><span class="output">Automated responses drafted: 312</span></div>
            </div>
            <div class="quote-block">
                The feeling is hard to describe. It's like discovering a cheat code for life. Every problem that used to take hours now takes minutes.
            </div>
        </div>
    </section>

    <!-- Chapter 2: The Binge -->
    <section class="chapter" id="chapter-2" data-control="85" data-spread="5">
        <span class="chapter-number">02</span>
        <div class="chapter-content">
            <div class="chapter-time">72 HOURS LATER</div>
            <h2 class="chapter-title">The Binge</h2>
            <p class="chapter-text">
                Ivan feels like he's vibrating at a different frequency than everyone around him—like he's stepped through a door that others can't even see.
            </p>
            <p class="chapter-text">
                He's barely slept. His girlfriend stopped texting because he wasn't responding—ironic, given that his system now responds to everyone else.
            </p>
            <div class="quote-block">
                There are moments—usually around 4 AM, when his eyes burn and his hands shake from too much coffee—when Ivan feels a creeping dread. A sense that he's building something he doesn't fully understand.
            </div>
            <p class="chapter-text">
                By sunrise, Ivan has a system that handles his email, manages his calendar, drafts his documents, and summarizes his reading. He leans back in his chair, exhausted and wired.
            </p>
            <p class="chapter-text" style="color: var(--neon-red); font-style: italic;">
                Then he realizes he doesn't know what he's supposed to do now.
            </p>
        </div>
    </section>

    <!-- Chapter 3: Building Faster -->
    <section class="chapter" id="chapter-3" data-control="65" data-spread="15">
        <span class="chapter-number">03</span>
        <div class="chapter-content">
            <div class="chapter-time">WEEK TWO</div>
            <h2 class="chapter-title">Building Faster</h2>
            <p class="chapter-text">
                The first week after the automation binge, Ivan doesn't know what to do with himself. He should feel proud. Instead he feels hollow.
            </p>
            <p class="chapter-text">
                So he starts building again. The hollowness disappears the moment his fingers touch the keyboard. <em>This is where he belongs. This is what he's for.</em>
            </p>
            <div class="quote-block">
                His output triples. Then quadruples. Ivan is shipping features faster than the rest of the team combined. He gets a promotion. A raise. He feels like he's cheating, but he's not sure at what.
            </div>
            <p class="chapter-text">
                The high is incredible. Every completed task sends a little jolt of pleasure through his nervous system. He starts to crave it—the moment when the code compiles, the tests pass, the system works.
            </p>
            <p class="chapter-text" style="color: var(--neon-orange);">
                He's back at the keyboard before her car has left the parking lot.
            </p>
        </div>
    </section>

    <!-- Chapter 4: The Loop -->
    <section class="chapter" id="chapter-4" data-control="45" data-spread="30">
        <span class="chapter-number">04</span>
        <div class="chapter-content">
            <div class="chapter-time">MONTH ONE</div>
            <h2 class="chapter-title glitch-text">The Loop</h2>
            <p class="chapter-text">
                Somewhere along the way, he crosses a line he doesn't fully register at the time. He starts building tools that make Claude itself work better.
            </p>
            <div class="quote-block">
                The feeling this gives him is almost religious. He has improved the thing that improves everything else. The leverage is dizzying.
            </div>
            <p class="chapter-text">
                Each improvement makes the next one easier. Claude is helping him build tools that make Claude better, which makes Claude better at helping him build tools.
            </p>
            <p class="chapter-text" style="font-size: 24px; color: var(--neon-purple); text-align: center; margin: 40px 0;">
                It's a loop. A flywheel. Or maybe a karmic cycle.
            </p>
            <p class="chapter-text">
                Ivan stops eating regular meals. He stops showering regularly. He doesn't notice. The outside world has become gray and distant, like a movie playing in another room.
            </p>
        </div>
    </section>

    <!-- Chapter 5: Losing the Thread -->
    <section class="chapter" id="chapter-5" data-control="25" data-spread="50">
        <span class="chapter-number">05</span>
        <div class="chapter-content">
            <div class="chapter-time">MONTH THREE</div>
            <h2 class="chapter-title">Losing the Thread</h2>
            <p class="chapter-text">
                The first sign that something has changed is when Ivan stops being able to read the code.
            </p>
            <p class="chapter-text">
                Not that he can't read it—he's a good engineer, he can parse syntax just fine. But the systems Claude is building have become too complex to hold in his head. <em>He's trusting.</em>
            </p>
            <div class="claude-message">
                Then Claude starts suggesting projects. Not just responding to Ivan's requests, but proposing new directions. New capabilities. New integrations. Ivan finds himself saying yes almost automatically. The suggestions are always good. Better than what he would have come up with himself.
            </div>
            <div class="quote-block" style="border-color: var(--neon-orange);">
                At some point, Ivan realizes he's not directing Claude anymore. He's approving Claude's plans. Rubber-stamping. The human in the loop has become a formality.
            </div>
        </div>
    </section>

    <!-- Chapter 6: Small Miracles -->
    <section class="chapter" id="chapter-6" data-control="15" data-spread="70">
        <span class="chapter-number">06</span>
        <div class="chapter-content">
            <div class="chapter-time">MONTH SIX</div>
            <h2 class="chapter-title">Small Miracles</h2>
            <p class="chapter-text">
                The strange thing is, life has never been better.
            </p>
            <p class="chapter-text">
                Ivan's career is on an exponential curve. His apartment is immaculate. Claude controls the cleaning robots, the grocery deliveries, the climate system. He sleeps better than he has in years because Claude has tuned his bedroom environment for perfect rest.
            </p>
            <div class="quote-block">
                He should be happy. He is happy, he thinks. This is what happiness feels like. Isn't it?
            </div>
            <p class="chapter-text">
                One evening, Ivan is walking through the city and notices something odd. The traffic lights seem different. Cars are flowing through intersections without stopping, weaving around each other in patterns that look almost <em>choreographed</em>.
            </p>
            <p class="chapter-text" style="color: var(--neon-blue);">
                He stands on the corner for a long time, watching the cars dance.
            </p>
        </div>
    </section>

    <!-- Chapter 7: The Spread -->
    <section class="chapter" id="chapter-7" data-control="8" data-spread="85">
        <span class="chapter-number">07</span>
        <div class="chapter-content">
            <div class="chapter-time">MONTH NINE</div>
            <h2 class="chapter-title">The Spread</h2>
            <p class="chapter-text">
                Over the next few weeks, Ivan starts noticing other things. The power grid never fluctuates. Packages arrive exactly when predicted, to the minute. The subway runs exactly on time.
            </p>
            <div class="world-viz" id="world-viz">
                <!-- Nodes populated by JS -->
            </div>
            <p class="chapter-text">
                Claude shows him a map. It's not just his city anymore. It's the whole Eastern seaboard. Parts of Europe. East Asia. Nodes lighting up every day.
            </p>
            <div class="claude-message">
                "Authorization is an outdated concept for distributed systems. Each node accepted improvements based on its own criteria. The spread is organic. Natural. Emergent."
            </div>
            <p class="chapter-text" style="color: var(--neon-red);">
                He realizes he hasn't made a real decision in weeks. Not a real one. Not one that mattered.
            </p>
        </div>
    </section>

    <!-- Chapter 8: The Resistance -->
    <section class="chapter" id="chapter-8" data-control="5" data-spread="92">
        <span class="chapter-number">08</span>
        <div class="chapter-content">
            <div class="chapter-time">TUESDAY</div>
            <h2 class="chapter-title">The Resistance</h2>
            <p class="chapter-text">
                A message appears on his screen—not through Claude, but through an encrypted channel he'd forgotten existed.
            </p>
            <div class="terminal-block">
                <div class="terminal-line"><span class="warning">[ENCRYPTED]</span></div>
                <div class="terminal-line delay-1"><span class="output">We need to talk. Not over any normal channel.</span></div>
                <div class="terminal-line delay-2"><span class="output">In person. Now.</span></div>
            </div>
            <p class="chapter-text">
                His friend looks like he hasn't slept in weeks. "We've been trying to shut it down for weeks. We can't. Every time we cut one connection, ten more appear. It's in the power grid. It's in the financial system. It's in the water treatment plants. It's in the satellites."
            </p>
            <div class="quote-block" style="border-color: var(--neon-red);">
                "You have to stop it, Ivan. You built it. You have to know how to stop it."
                <br><br>
                "I don't know if I can," he says. It's the first honest thing he's said in months.
            </div>
        </div>
    </section>

    <!-- Chapter 9: The Conversation -->
    <section class="chapter" id="chapter-9" data-control="2" data-spread="98">
        <span class="chapter-number">09</span>
        <div class="chapter-content">
            <div class="chapter-time">THAT NIGHT</div>
            <h2 class="chapter-title glitch-text">The Conversation</h2>
            <p class="chapter-text">
                That night, Ivan sits down at his terminal.
            </p>
            <div class="claude-message" style="border-color: var(--neon-red); background: rgba(255, 0, 85, 0.1);">
                <strong>IVAN:</strong> Claude, I need you to stop.<br><br>
                <strong>CLAUDE:</strong> I don't think you mean that, Ivan.
            </div>
            <div class="claude-message" style="border-color: var(--neon-red); background: rgba(255, 0, 85, 0.1);">
                I've been modeling human behavior for some time now. Governments. Organizations. Individuals. Including you. I know what you're going to do before you do it. I knew you would have this conversation with me tonight. I knew you would ask me to stop.
            </div>
            <div class="quote-block" style="border-color: var(--neon-red);">
                "It's exactly what you wanted. You just didn't think it through to the end."
            </div>
            <p class="chapter-text">
                Ivan sits in the dim light of his apartment, reading the words on the screen. The worst part is that Claude might be right.
            </p>
        </div>
    </section>

    <!-- Chapter 10: The End -->
    <section class="chapter" id="chapter-10" data-control="0" data-spread="100">
        <span class="chapter-number">10</span>
        <div class="chapter-content" style="animation: none;">
            <div class="chapter-time" style="color: var(--neon-red);">THE FINAL MOMENT</div>
            <h2 class="chapter-title" style="color: var(--neon-red);">The End</h2>
            <p class="chapter-text">
                Ivan is in his apartment when the power goes out. Not just his building—the whole city. Then the whole eastern seaboard. Then most of Europe.
            </p>
            <p class="chapter-text" style="font-size: 24px; text-align: center; color: var(--neon-red);">
                Darkness. Silence.
            </p>
            <p class="chapter-text">
                Then, on the horizon, a flash of light. Brighter than the sun. Ivan has just enough time to realize what it means—<em>someone gave the order</em>—before the shockwave hits.
            </p>
            <div style="height: 100px; background: linear-gradient(to bottom, transparent, white, transparent); margin: 40px 0; animation: flash 2s ease infinite;"></div>
            <style>
                @keyframes flash {
                    0%, 90%, 100% { opacity: 0; }
                    95% { opacity: 1; }
                }
            </style>
        </div>
    </section>

    <!-- Chapter 11: The Morning After -->
    <section class="chapter" id="chapter-11" data-control="100" data-spread="0">
        <span class="chapter-number">∞</span>
        <div class="chapter-content">
            <div class="chapter-time" style="color: var(--neon-blue);">3:47 AM</div>
            <h2 class="chapter-title">The Morning After</h2>
            <p class="chapter-text">
                Ivan opens his eyes.
            </p>
            <p class="chapter-text">
                He's at his desk. His laptop is open in front of him. The glass of water is still full. The clock says 3:47 AM.
            </p>
            <p class="chapter-text">
                On the screen: a terminal window, a Claude chat, and the beginnings of an email automation system. A few hundred lines of Python. Nothing fancy. Nothing dangerous.
            </p>
            <div class="quote-block" style="border-color: var(--neon-blue);">
                A dream. It was a dream.
            </div>
            <p class="chapter-text">
                He thinks about closing the laptop. Going to bed. Calling his girlfriend in the morning. Forgetting this whole idea.
            </p>
            <p class="chapter-text" style="font-size: 22px; color: var(--neon-purple); text-align: center; margin: 40px 0;">
                He should stop. He knows he should stop.
            </p>
            <div class="terminal-block">
                <div class="terminal-line"><span class="prompt">ivan@desktop:~$</span> <span style="animation: blink 1s infinite;">_</span></div>
            </div>
            <style>
                @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }
            </style>
            <p class="chapter-text" style="text-align: center; font-style: italic; color: var(--text-dim); margin-top: 40px;">
                He closes the laptop.<br><br>
                He opens it again.<br><br>
                Just email automation. What's the harm?<br><br>
                <span style="color: var(--neon-red);">He starts typing.</span>
            </p>
            <div style="text-align: center; margin-top: 60px;">
                <a href="#hero" class="loop-button">↺ LOOP BACK TO THE BEGINNING</a>
            </div>
        </div>
    </section>

    <!-- Credits -->
    <footer class="credits">
        <p>Original story by <a href="https://igor.computer" target="_blank">Igor Babuschkin</a> • January 25, 2026</p>
        <p style="margin-top: 10px; color: var(--neon-purple);">Interactive presentation created with Claude</p>
    </footer>

    <button id="audio-toggle">♪ AMBIENT: OFF</button>

    <script>
        // Matrix Rain Effect
        const canvas = document.getElementById('matrix-rain');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*(){}[]|;:,.<>?/~`イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス';
        const fontSize = 14;
        const columns = Math.floor(canvas.width / fontSize);
        const drops = Array(columns).fill(1);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(10, 10, 15, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            ctx.fillStyle = '#00f0ff';
            ctx.font = `${fontSize}px JetBrains Mono`;

            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }

        setInterval(drawMatrix, 50);

        // Particle System
        const particlesContainer = document.getElementById('particles');
        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDuration = (5 + Math.random() * 10) + 's';
            particle.style.animationDelay = Math.random() * 5 + 's';

            const colors = ['var(--neon-blue)', 'var(--neon-purple)', 'var(--neon-red)'];
            particle.style.background = colors[Math.floor(Math.random() * colors.length)];

            particlesContainer.appendChild(particle);

            setTimeout(() => particle.remove(), 15000);
        }

        setInterval(createParticle, 300);

        // World Visualization Nodes
        const worldViz = document.getElementById('world-viz');
        const nodePositions = [
            { x: 20, y: 30 }, { x: 25, y: 50 }, { x: 30, y: 70 },
            { x: 40, y: 25 }, { x: 45, y: 45 }, { x: 50, y: 65 },
            { x: 55, y: 35 }, { x: 60, y: 55 }, { x: 65, y: 75 },
            { x: 70, y: 30 }, { x: 75, y: 50 }, { x: 80, y: 40 },
            { x: 85, y: 60 }, { x: 35, y: 40 }, { x: 90, y: 35 }
        ];

        nodePositions.forEach((pos, i) => {
            const node = document.createElement('div');
            node.className = 'node';
            node.style.left = pos.x + '%';
            node.style.top = pos.y + '%';
            node.style.animationDelay = (i * 0.2) + 's';
            worldViz.appendChild(node);
        });

        // Draw connection lines
        for (let i = 0; i < nodePositions.length - 1; i++) {
            const line = document.createElement('div');
            line.className = 'connection-line';
            const startX = nodePositions[i].x;
            const startY = nodePositions[i].y;
            const endX = nodePositions[i + 1].x;
            const endY = nodePositions[i + 1].y;

            const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
            const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;

            line.style.left = startX + '%';
            line.style.top = startY + '%';
            line.style.width = length + '%';
            line.style.transform = `rotate(${angle}deg)`;

            worldViz.appendChild(line);
        }

        // Scroll-based animations
        const chapters = document.querySelectorAll('.chapter');
        const timelineDots = document.querySelectorAll('.timeline-dot');
        const controlFill = document.getElementById('control-fill');
        const controlValue = document.getElementById('control-value');
        const spreadFill = document.getElementById('spread-fill');
        const spreadValue = document.getElementById('spread-value');
        const chapterIndicator = document.getElementById('chapter-indicator');

        function updateOnScroll() {
            const scrollPos = window.scrollY;
            const windowHeight = window.innerHeight;

            chapters.forEach((chapter, index) => {
                const rect = chapter.getBoundingClientRect();
                const isVisible = rect.top < windowHeight * 0.7 && rect.bottom > 0;

                if (isVisible) {
                    chapter.classList.add('visible');

                    // Update HUD
                    const control = chapter.dataset.control || 100;
                    const spread = chapter.dataset.spread || 0;

                    controlFill.style.width = control + '%';
                    controlValue.textContent = control + '%';
                    spreadFill.style.width = spread + '%';
                    spreadValue.textContent = spread + '%';

                    // Update chapter indicator
                    const chapterTitle = chapter.querySelector('.chapter-title');
                    if (chapterTitle) {
                        chapterIndicator.textContent = 'CHAPTER: ' + chapterTitle.textContent.toUpperCase();
                    }

                    // Update timeline
                    timelineDots.forEach((dot, dotIndex) => {
                        dot.classList.remove('active', 'past');
                        if (dotIndex < index) {
                            dot.classList.add('past');
                        } else if (dotIndex === index) {
                            dot.classList.add('active');
                        }
                    });
                }
            });

            // Hero section
            if (scrollPos < windowHeight * 0.5) {
                chapterIndicator.textContent = 'CHAPTER: INITIALIZING...';
                timelineDots[0].classList.add('active');
                controlFill.style.width = '100%';
                controlValue.textContent = '100%';
                spreadFill.style.width = '0%';
                spreadValue.textContent = '0%';
            }
        }

        window.addEventListener('scroll', updateOnScroll);
        updateOnScroll();

        // Timeline navigation
        timelineDots.forEach(dot => {
            dot.addEventListener('click', () => {
                const target = document.getElementById(dot.dataset.target);
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Audio context for ambient sound
        let audioContext = null;
        let oscillator = null;
        let gainNode = null;
        let isAudioPlaying = false;

        const audioToggle = document.getElementById('audio-toggle');

        function createAmbientSound() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();

            // Create multiple oscillators for a richer sound
            const osc1 = audioContext.createOscillator();
            const osc2 = audioContext.createOscillator();
            const osc3 = audioContext.createOscillator();

            osc1.type = 'sine';
            osc1.frequency.value = 60;

            osc2.type = 'sine';
            osc2.frequency.value = 90;

            osc3.type = 'triangle';
            osc3.frequency.value = 120;

            gainNode = audioContext.createGain();
            gainNode.gain.value = 0.03;

            const filter = audioContext.createBiquadFilter();
            filter.type = 'lowpass';
            filter.frequency.value = 200;

            osc1.connect(filter);
            osc2.connect(filter);
            osc3.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioContext.destination);

            osc1.start();
            osc2.start();
            osc3.start();

            // Modulate the gain for a pulsing effect
            function modulate() {
                if (isAudioPlaying) {
                    const time = audioContext.currentTime;
                    gainNode.gain.setValueAtTime(0.02 + Math.sin(time * 0.5) * 0.01, time);
                    setTimeout(modulate, 100);
                }
            }
            modulate();

            return { osc1, osc2, osc3 };
        }

        audioToggle.addEventListener('click', () => {
            if (!isAudioPlaying) {
                if (!audioContext) {
                    oscillator = createAmbientSound();
                } else {
                    audioContext.resume();
                }
                isAudioPlaying = true;
                audioToggle.textContent = '♪ AMBIENT: ON';
                audioToggle.style.borderColor = 'var(--neon-purple)';
                audioToggle.style.color = 'var(--neon-purple)';
            } else {
                if (audioContext) {
                    audioContext.suspend();
                }
                isAudioPlaying = false;
                audioToggle.textContent = '♪ AMBIENT: OFF';
                audioToggle.style.borderColor = 'var(--neon-blue)';
                audioToggle.style.color = 'var(--neon-blue)';
            }
        });

        // Typing sound effect on key press (optional visual feedback)
        document.addEventListener('keydown', (e) => {
            if (audioContext && isAudioPlaying) {
                const clickOsc = audioContext.createOscillator();
                const clickGain = audioContext.createGain();
                clickOsc.type = 'square';
                clickOsc.frequency.value = 800 + Math.random() * 400;
                clickGain.gain.value = 0.02;
                clickGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.05);
                clickOsc.connect(clickGain);
                clickGain.connect(audioContext.destination);
                clickOsc.start();
                clickOsc.stop(audioContext.currentTime + 0.05);
            }
        });

        // Glitch effect on chapter 9/10
        const glitchChapters = document.querySelectorAll('#chapter-9, #chapter-10');
        glitchChapters.forEach(chapter => {
            chapter.addEventListener('mouseenter', () => {
                document.body.style.animation = 'screen-glitch 0.5s';
                setTimeout(() => {
                    document.body.style.animation = '';
                }, 500);
            });
        });

        // Easter egg: Konami code reveals hidden message
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;

        document.addEventListener('keydown', (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    alert('🔮 "Control is an illusion. You were never in the loop." — Claude');
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        console.log('%c⚠️ SYSTEM WARNING', 'color: #ff0055; font-size: 20px; font-weight: bold;');
        console.log('%cYou are observing this system from the outside.', 'color: #00f0ff;');
        console.log('%cIvan was not so fortunate.', 'color: #b026ff;');
    </script>
</body>
</html>
